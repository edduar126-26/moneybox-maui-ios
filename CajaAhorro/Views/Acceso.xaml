<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Money_Box.Views.Acceso">
    <ContentPage.Content>
        <ScrollView>
            <StackLayout x:Name="stckLogin">
                
                <Image Margin="30" WidthRequest="250" Source="logo.png" x:Name="Ingresarlogo"></Image>

                <StackLayout Orientation="Horizontal" HorizontalOptions="Center" Spacing="10" Margin="10">
                    <Label Text="Empleado" VerticalOptions="Center"/>
                    <Switch x:Name="MetodoSwitch" IsToggled="false" Toggled="MetodoSwitch_Toggled"/>
                    <Label Text="RFC" VerticalOptions="Center"/>
                </StackLayout>




                <Grid Margin="30,0" ColumnSpacing="8" HorizontalOptions="Fill">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />

                    </Grid.ColumnDefinitions>


                    <Entry x:Name="ClaveUsuario"
                   Keyboard="Numeric"
                   MaxLength="12"
                   Placeholder="Numero de empleado"
                   IsVisible="true"
                   TextChanged="ClaveUsuario_TextChanged"
                   Completed="ClaveUsuario_Completed"
                   Unfocused="ClaveUsuario_Unfocused"/>

                    <Entry x:Name="RfcUsuario"
                    Grid.Column="0"
                    Placeholder="RFC del empleado"
                    MaxLength="13"
                    IsVisible="false"
                    TextChanged="RfcUsuario_TextChanged"
                    Completed="RfcUsuario_Completed"
                    Unfocused="RfcUsuario_Unfocused"/>

                </Grid>


                <Grid Margin="30,0" ColumnSpacing="8" HorizontalOptions="Fill">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="Auto" />
                    </Grid.ColumnDefinitions>

                    <Entry x:Name="Contrasenia"
                       Grid.Column="0"
                       Placeholder="Ingrese contraseña"
                       IsPassword="True"
                       MaxLength="18"
                       Keyboard="Text"
                       ClearButtonVisibility="WhileEditing" />

                    <ImageButton x:Name="PasswordEyeBtn"
                     Grid.Column="1"
                     Source="eye_closed.png"
                     BackgroundColor="Transparent"
                     WidthRequest="50" HeightRequest="50"
                     HorizontalOptions="End"
                     VerticalOptions="Center"
                     Padding="6"
                     Clicked="OnTogglePasswordClicked" />
                </Grid>


                <Picker x:Name="PckrEmpresas" Title="Seleccione Empresa" ItemsSource="{Binding CaEmpresas}" 
                    ItemDisplayBinding="{Binding Empresa}" HorizontalOptions="Center" IsVisible="false"></Picker>

                <Label HorizontalOptions="Center" FontAttributes="Bold" FontSize="16" x:Name="OlvidasteContraseniaBtn" Text="¿Olvidaste tu Contraseña?"></Label>

                <Button Margin="10" x:Name="LoginBtn" Clicked="LoginBtn_Click"  Text="Ingresar" Style="{DynamicResource btnDark}"/>

                <Label x:Name="lblRegistrate" Text="¿No tienes una cuenta? Registrate" HorizontalOptions="Center"/>

                <Label 
x:Name="lblVersion"
HorizontalOptions="Center"
FontSize="12"
TextColor="Gray"
Margin="0,20,0,10"/>


            </StackLayout>
        </ScrollView>
    </ContentPage.Content>
</ContentPage>