<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="Money_Box.Views.AhorroCortoPlazo"
             BackgroundColor="#FAFAFA">
    <ContentPage.Resources>
        <ResourceDictionary>
            <Style x:Key="btnDark" TargetType="Button">
                <Setter Property="BackgroundColor" Value="#42424c"/>
                <Setter Property="TextColor" Value="#FFFFFF"/>
                <Setter Property="WidthRequest" Value="150"/>
                <Setter Property="HeightRequest" Value="60"/>
                <Setter Property="VerticalOptions" Value="Start"/>
                <Setter Property="CornerRadius" Value="8"/>
            </Style>

            <Style x:Key="TituloCampo" TargetType="Label">
                <Setter Property="FontAttributes" Value="Bold"/>
                <Setter Property="TextColor" Value="Black"/>
                <Setter Property="HorizontalTextAlignment" Value="Center"/>
                <Setter Property="LineBreakMode" Value="WordWrap"/>
                <Setter Property="MaxLines" Value="2"/>
                <Setter Property="Margin" Value="4,0"/>
                <Setter Property="FontSize">
                    <OnIdiom x:TypeArguments="x:Double" Phone="14" Tablet="16" />
                </Setter>
            </Style>

            <Style x:Key="ValorCampo" TargetType="Label">
                <Setter Property="FontAttributes" Value="Bold"/>
                <Setter Property="TextColor" Value="Gray"/>
                <Setter Property="HorizontalTextAlignment" Value="Center"/>
                <Setter Property="LineBreakMode" Value="WordWrap"/>
                <Setter Property="MaxLines" Value="2"/>
                <Setter Property="Margin" Value="2,0,2,8"/>
                <Setter Property="FontSize">
                    <OnIdiom x:TypeArguments="x:Double" Phone="16" Tablet="18" />
                </Setter>
            </Style>
        </ResourceDictionary>
    </ContentPage.Resources>

    <NavigationPage.TitleView>

        <ContentView  Padding="{OnPlatform Android='30,30,0,0', iOS='30,30,0,0'}">

            <Grid MinimumHeightRequest="44"
              ColumnDefinitions="Auto, *"
              ColumnSpacing="8"
              VerticalOptions="Center"
              HorizontalOptions="Start">


                <Image Grid.Column="0"
                   HeightRequest="30"
                   
                   Aspect="AspectFit"
                   Source="LogoMoneybox"
                   Margin="0,0,4,0"
                   VerticalOptions="Center" />


                <Label Grid.Column="1"
                   x:Name="NombreSociolbl"
                   VerticalOptions="Center"
                   HorizontalOptions="End"
                   Margin="0"
                   FontSize="16"
                   FontAttributes="Bold"
                   LineBreakMode="TailTruncation"
                   MaxLines="1"
                   TextColor="White"/>
            </Grid>
        </ContentView>
    </NavigationPage.TitleView>


    <ContentPage.Content>
        <ScrollView>
            <StackLayout Margin="20">
                <ContentView Padding="0,10">
                    <Label Text="Ahorro a Corto Plazo"
                       FontSize="20"
                       FontAttributes="Bold"
                       HorizontalOptions="CenterAndExpand"
                       HorizontalTextAlignment="Center"
                       TextColor="Black"/>
                </ContentView>

             
            

                <!-- Cambié todas las filas a Auto -->
                <Grid ColumnSpacing="10" RowSpacing="6">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <!-- Fila 1 -->
                    <Label Grid.Row="0" Grid.Column="0"
                       Style="{StaticResource TituloCampo}"
                       Text="Sueldo Mensual Bruto"/>
                    <Label Grid.Row="0" Grid.Column="1"
                       Style="{StaticResource TituloCampo}"
                       Text="Fecha de Ingreso"/>

                    <!-- Fila 2 -->
                    <Label Grid.Row="1" Grid.Column="0"
                       Style="{StaticResource ValorCampo}"
                       x:Name="SueldoMensualBrutotxt"
                       Text="{Binding SueldoBrutoMensual}"/>
                    <Label Grid.Row="1" Grid.Column="1"
                       Style="{StaticResource ValorCampo}"
                       x:Name="FechaIngresotxt"
                       Text="{Binding FechaIngresoEmpresa}"/>

                    <!-- Fila 3 -->
                    <Label Grid.Row="2" Grid.Column="0"
                       Style="{StaticResource TituloCampo}"
                       Text="Desc. Mens. Ahorro Corto Plazo"/>
                    <Label Grid.Row="2" Grid.Column="1"
                       Style="{StaticResource TituloCampo}"
                       Text="Desc. Préstamo Mensual"/>

                    <!-- Fila 4 -->
                    <Label Grid.Row="3" Grid.Column="0"
                       Style="{StaticResource ValorCampo}"
                       x:Name="DescuentoAhorro"
                       Text="{Binding ImpDescuentoAhorro}"/>
                    <Label Grid.Row="3" Grid.Column="1"
                       Style="{StaticResource ValorCampo}"
                       x:Name="DescuentoPrestamo"
                       Text="{Binding ImpDescuentoPrestamo}"/>

                    <!-- Fila 5 -->
                    <Label Grid.Row="4" Grid.Column="0"
                       Style="{StaticResource TituloCampo}"
                       Text="Descuento Total Ahorro"/>
                    <Label Grid.Row="4" Grid.Column="1"
                       Style="{StaticResource TituloCampo}"
                       Text="Descuento Cambiar a"/>

                    <!-- Fila 6 -->
                    <Label Grid.Row="5" Grid.Column="0"
                       Style="{StaticResource ValorCampo}"
                       x:Name="DescuentoActualtxt"
                       Text="{Binding ImporteDescuentoAhorro}"/>
                    <Entry Grid.Row="5" Grid.Column="1"
                       FontSize="{OnIdiom Phone=16, Tablet=18}"
                       HorizontalTextAlignment="Center"
                       Placeholder="$ 0.00"
                       Keyboard="Numeric"
                       x:Name="DescuentoCambiarAtxt"
                       MaxLength="10"/>
                </Grid>

                <Grid Margin="0,10,0,0">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Button x:Name="RegresarBtn"
                        Grid.Row="0" Grid.Column="0"
                        Text="Regresar"
                        ImageSource="btnRegresar"
                        Clicked="RegresarBtn_Clicked"
                        Style="{DynamicResource btnDark}" />

                    <Button x:Name="AceptarBtn"
                        Grid.Row="0" Grid.Column="1"
                        Text="Aceptar"
                        ImageSource="btnAceptar"
                        Clicked="AceptarBtn_Clicked"
                        Command="{Binding InsertMovimientoCommand}"
                        Style="{DynamicResource btnDark}" />
                </Grid>
            </StackLayout>
        </ScrollView>
    </ContentPage.Content>

</ContentPage>